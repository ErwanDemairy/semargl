<!DOCTYPE html>
<!--
    Copyright 2013 Lev Khomich

    Licensed under the Apache License, Version 2.0 (the "License");
    you may not use this file except in compliance with the License.
    You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS" BASIS,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
    limitations under the License.
-->

<html xmlns="http://www.w3.org/1999/xhtml" xmlns="http://www.w3.org/1999/html"
      prefix="dc: http://purl.org/dc/terms/
              foaf: http://xmlns.com/foaf/0.1/
              rdf: http://www.w3.org/1999/02/22-rdf-syntax-ns#"
      vocab="http://usefulinc.com/ns/doap#">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="chrome=1"/>
    <link rel="stylesheet" href="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.2/css/bootstrap-combined.min.css"/>
    <link rel="stylesheet" href="http://yandex.st/highlightjs/7.3/styles/zenburn.min.css"/>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen"/>
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <script src="http://yandex.st/highlightjs/7.3/highlight.min.js"></script>
    <script>
        hljs.tabReplace = '    ';
        hljs.initHighlightingOnLoad();
    </script>
    <title>Semargl: better linked data processing - Jump-start with plain Java</title>
</head>

<body about="http://semarglproject.org" typeof="Project">

<div class="navbar-wrapper">
    <!-- Wrap the .navbar in .container to center it within the absolutely positioned parent. -->
    <div class="container">
        <div class="navbar navbar-inverse">
            <div class="navbar-inner">
                <div class="container-fluid">
                    <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </a>
                    <div class="brand">Semargl</div>
                    <div class="nav-collapse collapse">
                        <ul class="nav">
                            <li><a href="index.html" id="go-home" class="button">Home</a></li>
                            <li><a href="demo-rdfa.html" id="view-demo" class="button">Demo</a></li>
                            <li class="active"><a href="jump-start-plain.html" id="view-docs" class="button-pressed">Usage</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="container">

    <div class="page-header">
        <h1>Usage in plain Java</h1>
    </div>

    <p>
        Start by adding maven dependency to your project.
    </p>

<pre><code class="xml">&lt;repositories&gt;
    &lt;repository&gt;
        &lt;id&gt;Semargl repo&lt;/id&gt;
        &lt;url&gt;https://github.com/levkhomich/semargl/raw/master/maven-repo&lt;/url&gt;
    &lt;/repository&gt;
&lt;/repositories&gt;

&lt;dependencies&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;org.semarglproject&lt;/groupId&gt;
        &lt;artifactId&gt;semargl-rdfa&lt;/artifactId&gt;
        &lt;version&gt;0.3&lt;/version&gt;
    &lt;/dependency&gt;
&lt;/dependencies&gt;</code></pre>

    <p>
        Now you can create processing pipes using simple API. For example, if you want to extract
        RDFa triples from your document, serialize them to turtle and then print to <code>System.out</code>, you can
        do following:
    </p>

<pre><code class="java">CharOutputSink outputSink = new CharOutputSink();
StreamProcessor sp = new StreamProcessor(
RdfaParser.connect(TurtleSerializer.connect(outputSink));

outputSink.connect(System.out);
sp.process(someHtmlFile);</code></pre>

    <p>
        You can customize pipes implementing your own sinks or pipes:
    </p>

<pre><code class="java">class LiteralCounterSink implements TripleSink {

    private int count = 0;

    void startStream() throws ParseException {
        count = 0
    }

    void addNonLiteral(String subj, String pred, String obj) {
        // ignore non literal
    }

    void addPlainLiteral(String subj, String pred, String content, String lang) {
        count++;
    }

    void addTypedLiteral(String subj, String pred, String content, String type) {
        count++;
    }

    void endStream() throws ParseException {
        System.out.println("Triples processed: " + customSink.count);
    }

    // ignored callbacks
    void setBaseUri(String baseUri) {}
    boolean setProperty(String key, Object value) {}

    public static void main(String[] args) throws Exception {
        TripleSink mySink = new LiteralCounterSink();
        StreamProcessor sp = new StreamProcessor(RdfaParser.connect(mySink));

        // number of literal triples extracted from URI will be printed to System.out
        sp.process("http://semarglproject.org");
    }
};</code></pre>

    <p>
        To change pipeline settings, you could use <code>setProperty</code> method with appropriate key
        and value (which can be found in javadocs).
    </p>

<pre class="java"><code>// properties can be changed both for single pipe and its children (if they exist)
outputSink.setProperty(CharOutputSink.CHARSET_PROPERTY, "UTF-8");
// or all pipe hierarchy of stream processor
sp.setProperty(RdfaParser.RDFA_VERSION_PROPERTY, RDFa.VERSION_11);
</code></pre>

    <div id="footer">
        <div class="container">
            <div class="muted credit">
                <div class="pull-right">
                    <g:plusone size="medium" href="http://semarglproject.org"></g:plusone>
                    <iframe src="http://ghbtns.com/github-btn.html?user=levkhomich&repo=semargl&type=watch&count=true"
                            allowtransparency="true" frameborder="0" scrolling="0" width="110" height="20"></iframe>
                    <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://semarglproject.org"
                       data-text="Semargl - better linked data processing" data-count="horizontal" data-via="levkhomich">Tweet</a>
                </div>
                <p>
                    Semargl is maintained by <a href="http://levkhomich.ru/foaf#me" typeof="foaf:Person"
                                                rel="dc:creator maintainer developer foaf:maker">
                    <span property="foaf:name" rel="foaf:homepage" resource="http://levkhomich.ru/">Lev Khomich</span></a>.<br/>
                    Project licensed under
                    <a href="http://www.apache.org/licenses/LICENSE-2.0.html" rel="license">Apache License, Version 2.0</a>
                </p>
            </div>
        </div>
    </div>

</div>

<a rel="repository" href="https://github.com/levkhomich/semargl.git" typeof="GitRepository">
    <img id="github-badge" src="http://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png" alt="Fork me on GitHub"/>
</a>

<script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
    try {
        var pageTracker = _gat._getTracker("UA-17977786-3");
        pageTracker._trackPageview();
    } catch (err) {
    }
</script>
<script type="text/javascript">
    (function() {
        var s = document.createElement('script'), t = document.getElementsByTagName('script')[0];
        s.type = 'text/javascript';
        s.async = true;
        s.src = 'http://apis.google.com/js/plusone.js';
        t.parentNode.insertBefore(s, t);
    })();

    (function() {
        var s = document.createElement('script'), t = document.getElementsByTagName('script')[0];
        s.type = 'text/javascript';
        s.async = true;
        s.src = 'http://platform.twitter.com/widgets.js';
        t.parentNode.insertBefore(s, t);
    })();
</script>
<script src="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.2/js/bootstrap.min.js"></script>

</body>

</html>
